---
title: DOM编程
date: 2016-12-28 09:50:05
category: "IT"
tags: "js"
---

## 1. DHTML

a. DOM: JavaScript将浏览器本身、网页文档、以及网页文档中的HTML元素等都用相应的内置对象来表示，

这些对象及对象之间的层次关系统称为DOM(文档对象模型)。

b. 事件

c. 事件源

d. 事件驱动(Event Driver)

e. 事件处理程序(Event Handler)

f. DHTML定义：

css、脚本编程语言和DOM的结合使用，能够使HTML文档与用户具有交互性和动态变换性，

这三种技术的单一称谓叫DHTML(Dynamic HTML,动态HTML)。

g. 如何编写事件处理程序

方法1：在事件源对象所对应的HTML标签上增加一个要处理的属性，让事件属性值等于处理该事件的函数名或程序代码。
```
eg:<body oncontextmenu="hideContextmenu()"></body>
```
方法2：直接在JavaScript代码中，设置元素编写某个元素对象对象的事件属性，让事件属性值等于处理该事件的函数名或程序代码。

方法3：在一个专门的<script>标签对中编写某个元素对象的某种事件处理程序代码，并用for属性指定事件源和用event属性指定事件名。
```
eg:<script language="javascript" for="document" event="oncontextmenu">

window.event.returnValue=false;

</script>
```
## 2. window对象

window代表整个浏览器窗口

window对象的成员方法：

alert方法

confirm方法

prompt方法：显示用户输入框，返回用户输入的内容，可以有初始值。

navigate方法：让浏览器自动导航到指定页面

setInterval方法：浏览器每隔多长时间调用setInterval中程序代码。设置的时间以毫秒为单位。

setTimeout方法：设置浏览器过多长时间以后执行指定程序代码，时间以毫秒为单位。

clearInterval方法：取消前面etInterval方法进行的设置，参数须为etInterval方法的返回值。

clearTimeout方法：。。。

moveTo方法：用于将浏览器窗口移动到屏幕的某个位置。

resizeTo方法：改变浏览窗口大小，浏览器左上角坐标保持不变。

open方法：打开新窗口。

showModalDialog方法：显示对话框窗口。

showLessModalDialog方法：显示非。。。

frames数组对象
```
<frameset>

<frame></frame>

<frame></frame>

</frameset>
```
注意parent和top对象的区别

Event对象

用于获取和设置当前对象的有关信息

属性：

altKey:判断alt键是否按下，按下则为true，否则为false。

ctrlKey

shiftKey

clientX,clientY:窗口客户区（有效区）x,y坐标

screenX,screenY:用于设置和返回相对屏幕顶点的x,y坐标

offsetX,offsetY:用于设置和返回相对事件源的x,y坐标

X,Y:用于设置和返回相对事件源的父元素的x,y坐标

returnValue:用于设置和返回事件的返回值，以便浏览器判断是否需要对当前事件按照默认的方式进行处理，

设

置为false则浏览器会取消该事件的默认处理。

cancelBubble：用于设置事件是否向下传递

srcElement:用于设置和返回发生当前事件的事件源对象

keyCode:用于设置和返回键盘按下和弹起时按键的Unicode码值

button:鼠标事件

事件

专用事件

onload事件：浏览器装载完整个网页之后发生

onunload事件：浏览器窗口卸载完网页文档之后的事件

onbeforeunload：浏览器窗口卸载完网页文档之前的事件

通用事件

onclick事件

onmousemove事件

onmouseover事件

onmouseout事件

onmousedown事件

onmouseup事件

onkeydown事件

onkeyup事件

onkeypress事件：用户按下数字或字母键，按下并弹起两个步骤

window对象属性

closed：窗口是否关闭

opener：返回打开当前窗口的对象，如在父窗口中打开一个子窗口，子窗口的opener就是父窗口对象

defaultstatus：默认情况下状态栏显示的文本内容

status:设置和返回窗口状态栏当前正在显示的文本内容

screenTop:返回窗口左上角顶点在屏幕上的垂直位置

screenLeft:返回窗口左上角顶点在屏幕上的水平位置

对象类型的属性

location对象：用于设置和获得当前网页文档的url信息

window.location.href="www.baidu.com"; //等效于window.navigate("www.baidu.com");定向到某一网页

window.location.replace("www.baidu.com"); //可以用于载入一个新网页，替换掉原来的网页

window.location.reload("www.baidu.com"); //重新载入，刷新

event对象：获取和设置当前发生的事件的有关信息

frames数组对象：表示窗口中所有中所有子窗口的集合，frameset标签会将浏览器窗口划分为若干子窗口，这些子窗口就用frames表示

screen对象：提供显示器色彩度和分辨率信息

clipboardData对象：提供了读写剪贴板的若干方法

history对象：提供了重新装载浏览器曾新访问过了的URL列表中的若干方法

document对象：代表整个网页文档

## 3. document对象

cookie

cookie是什么？

cookie由服务器颁发给浏览器，浏览器首次访问服务器时，服务器将cookie信息保存在浏览器中，浏览器将cookie信息保存在cookie存储区中，

浏览器下次访问服务器时将cookie信息带过去，cookie因服务器而不同。不同的浏览器cookie信息也不相同。

**关于cookie的第二讲没有看完**

属性

与&lt;body&gt;标签相关的属性

alinkColor属性：超链接被选中时的颜色

linkColor属性：超链接在正常状态下的颜色

vlinkColor属性：访问过的超链接的颜色

bgColor属性:文档背景颜色

fgColor属性：用于指定文档中文本的默认前景色

**js中颜色名称的字符串也可以是16进制rgb颜色值

描述网

页文档信息的属性：

charset属性：设置和返回浏览器显示网页内容时所使用的当前编码字符集

defaultCharset：返回浏览器缺省编码字符集名称

cookie属性：设置和返回cookie字符串

fileCreatedDate属性：用于返回网页文档的创建时间，返回值为字符串

fileModifiedDate:网页文档的修改时间，返回值为字符串

fileSize:当前网页文档的大小

lastModified:用于返回web服务器向浏览器传递当前文档内容时，伴随发送的last-Modified头时的日期字符串格式

url:用于设置或返回浏览器访问当前网页时所采用的URL地址

URLUnencoded:返回浏览器访问当前网页时所采用的URL地址解码后的字符串

referrer:用于返回导航到当前网页的超链接源的URL地址

对象属性

forms数组：代表HTML文档所有form标签对的集合

anchors数组：代表HTML文档中所有指定name属性或id属性a标签对的集合，当对a标签指定了name或id属性，它就成了

定为标记符。anchors也即是定为标记的集合。

links数组：代表HTML文档中所有指定href属性a标签对的集合

images数组：代表所有image标签对的集合

scripts数组：代表所有script标签的集合

applets数组：代表所有applet标签的集合，Java中的一个专门技术

all数组：所有标签对象的集合

styleSheets数组对象：代表HTML文档中所有style,link标签或者是通过import语句定义和引用的样式表的集合

body对象：代表HTML文档中的body标签对，body中的元素可以作为body对象属性来引用

title对象：代表HTML文档中的title标签对，可以设置显示在浏览器标题栏上的内容

注：一般来说每个HTML标签在JavaScript中都有与之相对应的对象，HTML标签所有属性在JavaScript的对象中也有与之相对应的属性(并非一一对应)

HTML元素对象与HTML元素标签之间的关系

id属性值不能重复，但name属性则可以

&lt;script&gt;标签的属性

defer：不用设置属性值的属性，装载的过程中不执行&lt;script&gt;标签对中的内容，装载完成之后才执行。

如果&lt;script&gt;标签对中有document.write(),document.write()执行的结果会覆盖原来的网页

language属性

type属性：W3C要求用type代替language属性，&lt;script type="text/javascript"&gt;&lt;/script&gt;

src属性：引用js文件

**一个web服务器如何借助image标签来收集其他web站点的页面访问次数的？

**使用script标签的src属性为其他站点的网页提供各种扩展功能。

方法

write方法：用于动态的向HTML文档中写入内容

writeln方法：可换行

open方法：打开新文档。建议使用window的open方法，功能一样。

close方法：关闭文档流。

clear方法：清除文档中的所有内容。

等价于一

下两句，最好用下面两句

document.write("");

document.close();

getElementById方法

getElementByName方法

getElementByTagName方法

createElement方法：产生代表HTML元素的对象

createStyleSheet：产生样式表，或增加样式规则

文档加密

没听完。。。

## 4. body对象

body对象--方法举例

appendChild方法：将一个对象所对应的HTML元素作为body标签对最后一个元素添加到body标签对中。
```
eg:

<script language="javascript" name=script1>

function createA(){

var oa=document.createElement("A");

oa.href="http://www.baidu.com";

oa.innerText="我的百度";

document.body.appendChild(oa);

}

</script>

<body onload="createA()">

下面的链接是动态产生的<br>

<body>
```
专用属性：

background属性：用于设置网页背景图片URL地址

bgProperties属性：用于设置背景图片是否随网页文档的滚动而滚动，缺省值是空字符串，表示背景图片随网页文档的滚动而滚动。设置为fixed则不滚动了。

text属性：用于设置和返回网页文档的文本的显示颜色。

topMarginx

bottomMargin

leftMargin

rightMargin

分别用于设置网页文档的上边距下边距，左边距右边距

通用属性：

id属性：用于设置和返回HTML元素的id属性值。id属性值用于给html元素指定唯一标识名。

name属性：用于设置和返回HTML元素的name属性值。

className属性：用于设置和返回HTML元素的class属性值。

innerText属性：用于设置和返回HTML元素的标签对之间的内容。返回只返回文本。

innerHTML属性：返回连同标签和文本一起返回。

outerText属性：设置和返回HTML标签符号本身和嵌套在他里面的内容。

outerHTML属性：

offsetTop

offsetLeft

用于设置或返回元素边界左上角顶点相对于他上层HTML元素左上角顶点的垂直和水平距离。

offsetWidth

offsetHeight

返回HTML元素对象自身的宽度和高度。

clientTop

clientLeft

返回元素对象客户区左上角顶点相对于自身边界的垂直和水平距离。

scroll对象：用于设置和返回HTML元素中是否显示滚动条。字符串类型，有三个值yes\no\auto

scrollTop属性：用于设置和返回HTML元素上边界与当前被显示的内容上边界之间的距离。

scrollLeft属性：用于设置和返回HTML元素左边界与当前被显示的内容左边界之间的距离。

scrollWidth属性

scrollHeight属性

返回HTML元素整个内容的宽度和高度，包括当前没有显示的那部分内容。

body对象--事件

onselectstart和onscroll事件

onselectstart事件

选取网页文档内容时发生，若该事件处理函数返回FALSE则禁止复制网页文档中的内容

onscrol

l事件：拖动滚动条时发生的事件。

onselectstart和onscroll事件应用实例。

body对象--对象类型属性

all数组与style对象

all：某个对象对应的HTML标签中所包含的所有的HTML子元素对象的集合。使用方式上和document的all属性用法相同。

style对象：用于设置某个对象对应的HTML标签的样式风格。

eg：在页面上实现图标的漂浮移动实例

## 5. form对象

Form对象

form对象最主要的功能是能够直接访问HTML文档中的Form表单。一个web页面中可以有一个或多个form表单，

使用document.forms数组对象可以访问到各form表单。可以将&lt;form&gt;标签中嵌入的表单字段元素的名称作为form对象属性，

来引用该表单字段元素所对应的对象。

submit方法：用于向服务器提交表单数据，该方法并不产生onsubmit事件。

item方法：返回代表form表单中某个表单字段元素所对应的对象，接受的参数可以是表单字段元素的名称，

也可以是表单字段元素在form表单中的索引序号。item方法不能返回&lt;input type="image"&gt;类型表单字段元素。

form对象属性

name,target,title,enctype,encoding(IE6以前的浏览器只支持encoding属性),method,action

onsubmit事件

仅当onsubmit的处理函数返回true时表单方可被提交，否则不能被提交

form对象属性

all数组属性，通用属性，代表某个对象对应的html标签中包含的所有HTML子元素对象的集合，这里代表&lt;form&gt;

标签下所有元素对象的集合。

elements数组属性，代表form标签下除了&lt;input type=image&gt;之外的表单字段元素对象的集合。

children数组属性，所有直接子元素对象集合

## 6. form表单字段元素对象

属性：

defaultValue属性

disabled属性

form属性

readOnly属性

title属性

value属性

checked属性

列表框（select）专有属性

multiple属性

selectIndex属性

options属性

列表框选择相对象的属性

text属性

value属性

selected

index

方法：

blur方法

focus方法

click方法

setCapture方法

releaseCapture方法

selecte元素对象的add方法

事件：

onChange事件

onSelect事件

onFocus事件

onBlur事件